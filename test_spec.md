# 営業日報システム テスト仕様書

## 1. テスト概要

### テスト目的
営業日報システムの機能が正しく動作することを確認する。

### テスト範囲
- 認証機能
- 日報管理機能（一覧表示、登録、編集、削除）
- バリデーション
- 画面遷移

### テスト環境
- ブラウザ: Chrome最新版、Safari最新版
- デバイス: PC、スマートフォン
- テストデータ: 事前に用意されたテストユーザーとテスト日報

---

## 2. テストデータ

### テストユーザー

| ユーザーID | 氏名 | メールアドレス | パスワード | 部署 |
|-----------|------|---------------|-----------|------|
| 1 | 山田太郎 | yamada@example.com | password123 | 営業部 |
| 2 | 佐藤花子 | sato@example.com | password456 | 営業部 |

### テスト日報データ

| 日報ID | ユーザー | 日報日付 | 訪問件数 | 課題 | 計画 |
|-------|---------|---------|---------|------|------|
| 1 | 山田太郎 | 2026-01-10 | 2 | 新規顧客開拓 | 既存顧客フォロー |
| 2 | 山田太郎 | 2026-01-11 | 1 | 見積書作成 | 提案資料準備 |

---

## 3. 機能テスト

### 3.1 認証機能テスト

#### TC-01: ログイン成功

| 項目 | 内容 |
|------|------|
| テストケースID | TC-01 |
| テスト項目 | 正しい認証情報でのログイン |
| 前提条件 | ログアウト状態 |
| テスト手順 | 1. ログイン画面を開く<br>2. メールアドレスに「yamada@example.com」を入力<br>3. パスワードに「password123」を入力<br>4. ログインボタンをクリック |
| 期待結果 | 1. 日報一覧画面に遷移すること<br>2. ヘッダーに「山田太郎」が表示されること |
| 優先度 | 高 |

#### TC-02: ログイン失敗（メールアドレス誤り）

| 項目 | 内容 |
|------|------|
| テストケースID | TC-02 |
| テスト項目 | 誤ったメールアドレスでのログイン |
| 前提条件 | ログアウト状態 |
| テスト手順 | 1. ログイン画面を開く<br>2. メールアドレスに「wrong@example.com」を入力<br>3. パスワードに「password123」を入力<br>4. ログインボタンをクリック |
| 期待結果 | 1. エラーメッセージ「メールアドレスまたはパスワードが正しくありません」が表示されること<br>2. ログイン画面に留まること |
| 優先度 | 高 |

#### TC-03: ログイン失敗（パスワード誤り）

| 項目 | 内容 |
|------|------|
| テストケースID | TC-03 |
| テスト項目 | 誤ったパスワードでのログイン |
| 前提条件 | ログアウト状態 |
| テスト手順 | 1. ログイン画面を開く<br>2. メールアドレスに「yamada@example.com」を入力<br>3. パスワードに「wrongpassword」を入力<br>4. ログインボタンをクリック |
| 期待結果 | 1. エラーメッセージ「メールアドレスまたはパスワードが正しくありません」が表示されること<br>2. ログイン画面に留まること |
| 優先度 | 高 |

#### TC-04: ログイン失敗（未入力）

| 項目 | 内容 |
|------|------|
| テストケースID | TC-04 |
| テスト項目 | 未入力でのログイン試行 |
| 前提条件 | ログアウト状態 |
| テスト手順 | 1. ログイン画面を開く<br>2. メールアドレスとパスワードを入力せずにログインボタンをクリック |
| 期待結果 | 1. 各入力欄にバリデーションエラーが表示されること<br>2. ログイン処理が実行されないこと |
| 優先度 | 中 |

#### TC-05: ログアウト

| 項目 | 内容 |
|------|------|
| テストケースID | TC-05 |
| テスト項目 | ログアウト |
| 前提条件 | ログイン済み |
| テスト手順 | 1. ヘッダーのログアウトボタンをクリック |
| 期待結果 | 1. ログイン画面に遷移すること<br>2. セッションが破棄されること |
| 優先度 | 高 |

---

### 3.2 日報一覧表示テスト

#### TC-06: 日報一覧表示（データあり）

| 項目 | 内容 |
|------|------|
| テストケースID | TC-06 |
| テスト項目 | 自分の日報一覧を表示 |
| 前提条件 | 山田太郎でログイン済み<br>日報データが2件存在 |
| テスト手順 | 1. 日報一覧画面を表示 |
| 期待結果 | 1. 自分の日報2件が表示されること<br>2. 日報日付、訪問件数、更新日時が正しく表示されること<br>3. 新しい日報が上に表示されること |
| 優先度 | 高 |

#### TC-07: 日報一覧表示（データなし）

| 項目 | 内容 |
|------|------|
| テストケースID | TC-07 |
| テスト項目 | 日報が0件の場合の表示 |
| 前提条件 | 佐藤花子でログイン済み<br>日報データが0件 |
| テスト手順 | 1. 日報一覧画面を表示 |
| 期待結果 | 1. 「日報がありません」等のメッセージが表示されること<br>2. 新規登録ボタンが表示されること |
| 優先度 | 中 |

---

### 3.3 日報登録テスト

#### TC-08: 日報登録成功（訪問記録1件）

| 項目 | 内容 |
|------|------|
| テストケースID | TC-08 |
| テスト項目 | 訪問記録1件での日報登録 |
| 前提条件 | ログイン済み |
| テスト手順 | 1. 日報一覧画面で新規登録ボタンをクリック<br>2. 日報日付に「2026-01-12」を入力<br>3. 顧客名に「株式会社ABC」を入力<br>4. 訪問時刻に「10:00」を入力<br>5. 訪問内容に「新商品の提案」を入力<br>6. 課題に「価格面で検討が必要」を入力<br>7. 計画に「見積書を作成する」を入力<br>8. 保存ボタンをクリック |
| 期待結果 | 1. 成功メッセージが表示されること<br>2. 日報一覧画面に遷移すること<br>3. 登録した日報が一覧に表示されること |
| 優先度 | 高 |

#### TC-09: 日報登録成功（訪問記録複数件）

| 項目 | 内容 |
|------|------|
| テストケースID | TC-09 |
| テスト項目 | 訪問記録複数件での日報登録 |
| 前提条件 | ログイン済み |
| テスト手順 | 1. 日報一覧画面で新規登録ボタンをクリック<br>2. 日報日付に「2026-01-12」を入力<br>3. 1件目の訪問記録を入力<br>4. 「訪問記録を追加」ボタンをクリック<br>5. 2件目の訪問記録を入力<br>6. 「訪問記録を追加」ボタンをクリック<br>7. 3件目の訪問記録を入力<br>8. 保存ボタンをクリック |
| 期待結果 | 1. 成功メッセージが表示されること<br>2. 日報一覧画面に遷移すること<br>3. 訪問件数が「3」と表示されること |
| 優先度 | 高 |

#### TC-10: 日報登録失敗（訪問記録0件）

| 項目 | 内容 |
|------|------|
| テストケースID | TC-10 |
| テスト項目 | 訪問記録なしでの登録試行 |
| 前提条件 | ログイン済み |
| テスト手順 | 1. 日報一覧画面で新規登録ボタンをクリック<br>2. 日報日付に「2026-01-12」を入力<br>3. 訪問記録を入力せずに保存ボタンをクリック |
| 期待結果 | 1. エラーメッセージ「訪問記録は最低1件必須です」が表示されること<br>2. 登録処理が実行されないこと |
| 優先度 | 高 |

#### TC-11: 日報登録失敗（必須項目未入力）

| 項目 | 内容 |
|------|------|
| テストケースID | TC-11 |
| テスト項目 | 訪問記録の必須項目未入力 |
| 前提条件 | ログイン済み |
| テスト手順 | 1. 日報一覧画面で新規登録ボタンをクリック<br>2. 日報日付に「2026-01-12」を入力<br>3. 顧客名のみ入力し、訪問時刻と訪問内容を空欄にする<br>4. 保存ボタンをクリック |
| 期待結果 | 1. 各未入力項目にエラーメッセージが表示されること<br>2. 登録処理が実行されないこと |
| 優先度 | 高 |

#### TC-12: 日報登録（課題・計画は任意）

| 項目 | 内容 |
|------|------|
| テストケースID | TC-12 |
| テスト項目 | 課題・計画なしでの日報登録 |
| 前提条件 | ログイン済み |
| テスト手順 | 1. 日報一覧画面で新規登録ボタンをクリック<br>2. 日報日付に「2026-01-12」を入力<br>3. 訪問記録を1件入力<br>4. 課題と計画を空欄にする<br>5. 保存ボタンをクリック |
| 期待結果 | 1. 正常に登録されること<br>2. 日報一覧画面に遷移すること |
| 優先度 | 中 |

#### TC-13: キャンセル機能

| 項目 | 内容 |
|------|------|
| テストケースID | TC-13 |
| テスト項目 | 日報登録のキャンセル |
| 前提条件 | ログイン済み |
| テスト手順 | 1. 日報一覧画面で新規登録ボタンをクリック<br>2. 各項目に何か入力する<br>3. キャンセルボタンをクリック |
| 期待結果 | 1. 日報一覧画面に遷移すること<br>2. 入力内容が保存されないこと |
| 優先度 | 中 |

---

### 3.4 日報編集テスト

#### TC-14: 日報編集成功

| 項目 | 内容 |
|------|------|
| テストケースID | TC-14 |
| テスト項目 | 既存日報の編集 |
| 前提条件 | ログイン済み<br>編集対象の日報が存在 |
| テスト手順 | 1. 日報一覧画面で編集ボタンをクリック<br>2. 訪問内容を変更<br>3. 課題を変更<br>4. 保存ボタンをクリック |
| 期待結果 | 1. 成功メッセージが表示されること<br>2. 日報一覧画面に遷移すること<br>3. 変更内容が反映されていること<br>4. 更新日時が更新されていること |
| 優先度 | 高 |

#### TC-15: 訪問記録の追加

| 項目 | 内容 |
|------|------|
| テストケースID | TC-15 |
| テスト項目 | 編集時に訪問記録を追加 |
| 前提条件 | ログイン済み<br>訪問記録1件の日報が存在 |
| テスト手順 | 1. 日報一覧画面で編集ボタンをクリック<br>2. 「訪問記録を追加」ボタンをクリック<br>3. 新しい訪問記録を入力<br>4. 保存ボタンをクリック |
| 期待結果 | 1. 成功メッセージが表示されること<br>2. 訪問件数が「2」に増えること |
| 優先度 | 高 |

#### TC-16: 訪問記録の削除

| 項目 | 内容 |
|------|------|
| テストケースID | TC-16 |
| テスト項目 | 編集時に訪問記録を削除 |
| 前提条件 | ログイン済み<br>訪問記録2件の日報が存在 |
| テスト手順 | 1. 日報一覧画面で編集ボタンをクリック<br>2. 1件目の訪問記録の削除ボタンをクリック<br>3. 保存ボタンをクリック |
| 期待結果 | 1. 成功メッセージが表示されること<br>2. 訪問件数が「1」に減ること |
| 優先度 | 高 |

#### TC-17: 訪問記録の全削除エラー

| 項目 | 内容 |
|------|------|
| テストケースID | TC-17 |
| テスト項目 | 訪問記録を全て削除しようとした場合 |
| 前提条件 | ログイン済み<br>訪問記録1件の日報が存在 |
| テスト手順 | 1. 日報一覧画面で編集ボタンをクリック<br>2. 唯一の訪問記録の削除ボタンをクリック<br>3. 保存ボタンをクリック |
| 期待結果 | 1. エラーメッセージ「訪問記録は最低1件必須です」が表示されること<br>2. 保存処理が実行されないこと |
| 優先度 | 高 |

---

### 3.5 日報削除テスト

#### TC-18: 日報削除成功

| 項目 | 内容 |
|------|------|
| テストケースID | TC-18 |
| テスト項目 | 日報の削除 |
| 前提条件 | ログイン済み<br>削除対象の日報が存在 |
| テスト手順 | 1. 日報一覧画面で削除ボタンをクリック<br>2. 確認ダイアログで「OK」をクリック |
| 期待結果 | 1. 成功メッセージが表示されること<br>2. 日報が一覧から削除されること |
| 優先度 | 中 |

#### TC-19: 日報削除キャンセル

| 項目 | 内容 |
|------|------|
| テストケースID | TC-19 |
| テスト項目 | 日報削除のキャンセル |
| 前提条件 | ログイン済み<br>削除対象の日報が存在 |
| テスト手順 | 1. 日報一覧画面で削除ボタンをクリック<br>2. 確認ダイアログで「キャンセル」をクリック |
| 期待結果 | 1. 日報が削除されないこと<br>2. 一覧画面に残っていること |
| 優先度 | 低 |

---

## 4. 非機能テスト

### 4.1 レスポンシブデザインテスト

#### TC-20: スマートフォン表示

| 項目 | 内容 |
|------|------|
| テストケースID | TC-20 |
| テスト項目 | スマートフォンでの画面表示 |
| 前提条件 | スマートフォンまたはデベロッパーツールでスマートフォン表示 |
| テスト手順 | 1. 各画面をスマートフォンで表示<br>2. レイアウトを確認 |
| 期待結果 | 1. レイアウトが崩れないこと<br>2. 全ての要素が適切に表示されること<br>3. ボタンがタップしやすいサイズであること |
| 優先度 | 中 |

---

### 4.2 セキュリティテスト

#### TC-21: 未認証アクセス

| 項目 | 内容 |
|------|------|
| テストケースID | TC-21 |
| テスト項目 | 未ログイン状態での日報画面アクセス |
| 前提条件 | ログアウト状態 |
| テスト手順 | 1. URLを直接入力して日報一覧画面にアクセス |
| 期待結果 | 1. ログイン画面にリダイレクトされること |
| 優先度 | 高 |

#### TC-22: セッション有効期限

| 項目 | 内容 |
|------|------|
| テストケースID | TC-22 |
| テスト項目 | セッションタイムアウト後のアクセス |
| 前提条件 | ログイン済み |
| テスト手順 | 1. 一定時間（例: 30分）操作せずに放置<br>2. 何かしらの操作を試みる |
| 期待結果 | 1. セッションエラーが表示されること<br>2. ログイン画面にリダイレクトされること |
| 優先度 | 中 |

---

## 5. テスト結果記録

### テスト実施記録表

| テストケースID | テスト日 | 実施者 | 結果 | 備考 |
|--------------|---------|--------|------|------|
| TC-01 | - | - | - | - |
| TC-02 | - | - | - | - |
| TC-03 | - | - | - | - |
| ... | - | - | - | - |

### 結果の記入方法
- **結果**: OK / NG / 保留
- **備考**: NG の場合は詳細を記入

---

## 6. バグ管理

### バグ報告フォーマット

| 項目 | 内容 |
|------|------|
| バグID | BUG-001 |
| 発見日 | YYYY-MM-DD |
| 発見者 | 氏名 |
| テストケースID | TC-XX |
| 重要度 | 高 / 中 / 低 |
| 現象 | 発生した問題の詳細 |
| 再現手順 | 1. xxx<br>2. xxx<br>3. xxx |
| 期待結果 | 本来どうあるべきか |
| 実際の結果 | 実際に何が起きたか |
| スクリーンショット | （添付） |
| 環境 | ブラウザ、OS等 |
| ステータス | 未対応 / 対応中 / 完了 |

---

## 7. テスト完了基準

以下の条件を全て満たした場合、テスト完了とする。

1. 全ての高優先度テストケースが「OK」であること
2. 中優先度テストケースの90%以上が「OK」であること
3. 致命的なバグ（重要度：高）が0件であること
4. 重要度：中のバグが3件以下であること
5. 全てのバグに対して対応方針が決定していること
